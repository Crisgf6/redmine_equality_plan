<canvas id="<%= name %>" width="100" height="20"></canvas>
<script>
 var chartName = "<%= name %>";
 var salaryBarChartData = {
  datasets: [{
    label: '<%= l(:label_female) %>',
    backgroundColor: '#FF333F',
    borderColor: '#FF333F',
    borderWidth: 1,
    data: [<%= number_with_precision(average_female_salary, precision: 2, separator: ',', delimiter: '.') %>]
  }, {
    label: '<%= l(:label_male) %>',
    backgroundColor: '#4633FF',
    borderColor: '#4633FF',
    data: [<%= number_with_precision(average_male_salary, precision: 2, separator: ',', delimiter: '.') %>]
  }]
};
var ctxSalaryChart = document.getElementById(chartName).getContext('2d');
    window.myHorizontalBar = new Chart(ctxSalaryChart, {
      type: 'horizontalBar',
      data: salaryBarChartData,
      options: {
        // Elements options apply to all of the options unless overridden in a dataset
        // In this case, we are setting the border of each horizontal bar to be 2px wide
        elements: {
          rectangle: {
            borderWidth: 2,
          }
        },
        responsive: true,
        legend: {
          position: 'right',
        },
        title: {
          display: true,
          text: 'Salary by gender'
        },
        scales: { xAxes: [{ ticks: { beginAtZero: true, min:0 } }] } 
      }
    });
</script>
